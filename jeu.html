<!DOCTYPE html>
<html lang="fr">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Jeu des tables - Magic Wheel</title>
    <link rel="stylesheet" href="styles.css" />
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Baloo+2:wght@400;600;700&display=swap"
      rel="stylesheet"
    />
      <style>
      :root {
        --bg-game: linear-gradient(140deg, #f5f3ff 0%, #f0f9ff 50%, #fff5fb 100%);
        --surface: #ffffff;
        --surface-soft: rgba(255, 255, 255, 0.85);
        --primary: #6c5ce7;
        --primary-dark: #4f3ac8;
        --accent: #ff7f50;
        --success: #00b894;
        --warning: #ffa94d;
        --text: #2f1c6a;
        --muted: #5e5a80;
        --shadow: 0 30px 70px -48px rgba(76, 55, 140, 0.35);
      }

      body[data-app="game"] {
        margin: 0;
        background: var(--bg-game);
        color: var(--text);
        font-family: "Baloo 2", "Segoe UI", Tahoma, sans-serif;
        display: flex;
        flex-direction: column;
        align-items: center;
        min-height: 100vh;
      }

      .app--game {
        width: min(960px, 94%);
        padding: clamp(1.6rem, 4vw, 3rem) 0 2.4rem;
        display: grid;
        gap: clamp(1.4rem, 3.2vw, 2.1rem);
      }

      .panel {
        background: var(--surface);
        border-radius: 22px;
        padding: clamp(1.2rem, 3vw, 2rem);
        box-shadow: var(--shadow);
      }

      .app__header {
        text-align: center;
        background: var(--surface);
        border-radius: 22px;
        padding: clamp(1.2rem, 3vw, 2rem);
        box-shadow: var(--shadow);
      }

      .app__header h1 {
        margin: 0;
        font-size: clamp(2.2rem, 4.5vw, 3.2rem);
        color: var(--primary);
      }

      .app__subtitle {
        margin: 0.25rem 0 0;
        color: var(--muted);
      }

      .setup__controls,
      .hud,
      .game__actions,
      .summary__details {
        display: grid;
        gap: 1rem;
      }

      .hud {
        grid-template-columns: repeat(auto-fit, minmax(170px, 1fr));
        gap: 0.75rem;
      }

      .hud__item {
        background: rgba(108, 92, 231, 0.08);
        border-radius: 18px;
        padding: 0.8rem 1rem;
        text-align: center;
      }

      .hud__label {
        display: block;
        font-size: 0.9rem;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        color: var(--muted);
      }

      .hud__value {
        margin-top: 0.3rem;
        font-size: 1.4rem;
        font-weight: 700;
        color: var(--primary-dark);
      }

      .progress {
        margin-top: 0.6rem;
        background: rgba(108, 92, 231, 0.12);
        border-radius: 999px;
        height: 0.55rem;
        overflow: hidden;
      }

      .progress__bar {
        height: 100%;
        background: linear-gradient(120deg, var(--primary), #8e7bff);
      }

      .primary-btn,
      .secondary-btn {
        border: none;
        border-radius: 16px;
        font-size: 0.95rem;
        font-weight: 700;
        padding: 0.7rem 1.6rem;
        cursor: pointer;
        transition: transform 0.15s ease, box-shadow 0.15s ease;
        font-family: inherit;
      }

      .primary-btn {
        background: var(--primary);
        color: #fff;
        box-shadow: 0 18px 45px -34px rgba(108, 92, 231, 0.6);
      }

      .primary-btn:hover {
        transform: translateY(-2px);
      }

      .secondary-btn {
        background: rgba(108, 92, 231, 0.12);
        color: var(--primary-dark);
      }

      .secondary-btn--ghost {
        background: rgba(255, 127, 80, 0.12);
        color: var(--accent);
      }

      .question-card {
        display: grid;
        gap: 1.2rem;
        text-align: center;
      }

      .question-card__wheel {
        background: var(--surface-soft);
        border-radius: 22px;
        padding: 1.25rem;
        box-shadow: inset 0 0 0 1px rgba(108, 92, 231, 0.08);
        display: grid;
        gap: 0.65rem;
      }

      .question-card__multiplier {
        font-size: clamp(2.1rem, 5.5vw, 2.9rem);
        font-weight: 700;
        color: var(--primary);
      }

      .question-card__prompt {
        font-size: 1.05rem;
        color: var(--muted);
      }

      .choices {
        display: grid;
        gap: 0.85rem;
      }

      .choice {
        background: var(--surface);
        border-radius: 18px;
        padding: 0.85rem 1.1rem;
        display: flex;
        align-items: center;
        gap: 0.75rem;
        box-shadow: var(--shadow-soft);
        cursor: pointer;
        transition: transform 0.15s ease, box-shadow 0.15s ease;
      }

      .choice:hover {
        transform: translateY(-3px);
      }

      .choice__bubble {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        width: 2rem;
        height: 2rem;
        border-radius: 50%;
        background: rgba(108, 92, 231, 0.12);
        color: var(--primary-dark);
        font-weight: 700;
      }

      .feedback {
        min-height: 1.4rem;
        font-size: 1rem;
        font-weight: 600;
        color: var(--accent);
      }

      .summary__details {
        grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      }

      .summary__details > div {
        background: rgba(108, 92, 231, 0.08);
        border-radius: 18px;
        padding: 0.85rem 1rem;
        text-align: center;
      }

      .summary__label {
        display: block;
        font-size: 0.9rem;
        color: var(--muted);
      }

      .summary__value {
        font-size: 1.55rem;
        font-weight: 700;
        color: var(--primary-dark);
      }

      .summary__xp {
        font-size: 1.1rem;
        font-weight: 600;
        color: var(--primary);
      }

      .app__footer--game {
        margin-top: auto;
        padding: 1.6rem 0 2.4rem;
        text-align: center;
        color: var(--muted);
        font-size: 0.9rem;
      }
      .setup__controls {
        display: grid;
        gap: 0.9rem;
      }

      .setup__group {
        display: grid;
        gap: 0.6rem;
        text-align: left;
      }

      .setup__label {
        font-size: 1rem;
        font-weight: 600;
        color: var(--primary-dark);
      }

      .avatar-group {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
        gap: 0.85rem;
      }

      .avatar-card {
        border: 2px solid transparent;
        border-radius: 18px;
        padding: 0.9rem;
        background: rgba(108, 92, 231, 0.08);
        display: grid;
        gap: 0.65rem;
        text-align: left;
        cursor: pointer;
        transition: transform 0.15s ease, box-shadow 0.2s ease,
          border-color 0.2s ease, background 0.2s ease;
        color: inherit;
      }

      .avatar-card:focus {
        outline: none;
      }

      .avatar-card:focus-visible {
        box-shadow: 0 0 0 3px rgba(108, 92, 231, 0.4);
      }

      .avatar-card[data-selected="true"] {
        background: linear-gradient(
          130deg,
          rgba(108, 92, 231, 0.18),
          rgba(255, 127, 80, 0.12)
        );
        border-color: rgba(108, 92, 231, 0.45);
        box-shadow: 0 20px 46px -36px rgba(108, 92, 231, 0.55);
        transform: translateY(-2px);
      }

      .avatar-card__media {
        display: flex;
        justify-content: center;
      }

      .avatar-card__content {
        display: grid;
        gap: 0.45rem;
      }

      .avatar-card__media img {
        width: min(140px, 65%);
        max-width: 100%;
        height: auto;
        object-fit: contain;
        filter: drop-shadow(0 18px 24px rgba(47, 28, 106, 0.2));
      }

      .avatar-card__title {
        font-size: 1.05rem;
        font-weight: 700;
        color: var(--primary-dark);
      }

      .avatar-card__text {
        color: var(--muted);
        line-height: 1.35;
      }

      .avatar-card[disabled] {
        cursor: default;
        opacity: 0.9;
        box-shadow: none;
      }

      body[data-hero-locked="true"] .avatar-card:hover {
        transform: none;
        box-shadow: var(--shadow-soft);
      }

      body[data-hero-locked="true"] .avatar-card {
        cursor: default;
      }

      .chip-group {
        display: flex;
        flex-wrap: wrap;
        gap: 0.6rem;
      }

      .chip {
        border: none;
        border-radius: 999px;
        padding: 0.5rem 1.2rem;
        background: rgba(108, 92, 231, 0.12);
        color: var(--primary-dark);
        font-size: 0.9rem;
        font-weight: 600;
        cursor: pointer;
        transition: transform 0.15s ease, box-shadow 0.15s ease, background 0.2s ease;
      }

      .chip[data-selected="true"] {
        background: var(--primary);
        color: #fff;
        box-shadow: 0 18px 45px -30px rgba(108, 92, 231, 0.65);
      }

      .chip:hover {
        transform: translateY(-2px);
      }

      .hud__item--hero {
        display: grid;
        grid-template-columns: auto 1fr;
        align-items: center;
        gap: 0.75rem;
        text-align: left;
      }

      .hud__hero-portrait {
        width: 56px;
        height: 56px;
        border-radius: 16px;
        overflow: hidden;
        background: rgba(108, 92, 231, 0.16);
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 0.35rem;
      }

      .hud__hero-portrait img {
        width: 100%;
        height: 100%;
        object-fit: contain;
      }

      .hud__hero-info {
        display: grid;
        gap: 0.35rem;
      }

      .summary__hero {
        display: grid;
        grid-template-columns: auto 1fr;
        gap: 0.9rem;
        align-items: center;
        padding: 1rem 1.2rem;
        border-radius: 20px;
        background: rgba(108, 92, 231, 0.1);
        margin: 0.65rem 0 1.1rem;
      }

      .summary__hero-portrait {
        width: 92px;
        height: 92px;
        border-radius: 22px;
        overflow: hidden;
        background: rgba(108, 92, 231, 0.16);
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 0.5rem;
      }

      .summary__hero-portrait img {
        width: 100%;
        height: 100%;
        object-fit: contain;
      }

      .summary__hero-info {
        display: grid;
        gap: 0.35rem;
      }

      .summary__hero-info .summary__label {
        font-size: 0.95rem;
        text-transform: uppercase;
        letter-spacing: 0.08em;
        color: var(--muted);
      }

      .summary__hero-info .summary__value {
        font-size: 1.3rem;
        font-weight: 700;
        color: var(--primary-dark);
      }

      .home-link {
        display: inline-flex;
        align-items: center;
        justify-content: center;
        gap: 0.4rem;
        margin-top: 0.75rem;
        font-size: 0.95rem;
        color: var(--muted);
        text-decoration: none;
      }

      @media (max-width: 640px) {
        .avatar-card {
          padding: 0.75rem;
        }

        .avatar-card__media img {
          width: min(120px, 58%);
        }

        .hud__hero-portrait {
          width: 50px;
          height: 50px;
        }

        .summary__hero {
          grid-template-columns: 1fr;
          text-align: center;
          justify-items: center;
        }

        .summary__hero-portrait {
          width: 88px;
          height: 88px;
        }

        .summary__hero-info {
          text-align: center;
        }
      }
    </style>\r\n  </head>
  <body data-app="game">
    <main class="app app--game">
      <header class="app__header app__header--compact">
        <h1>Roulette magique</h1>
        <p class="app__subtitle">
          10 questions pour faire le plein d'etoiles. Bonne chance !
        </p>
        <a class="home-link" href="index.html">&larr; Retour &agrave; l'accueil</a>
        <p class="game__config" id="game-config"></p>
      </header>

                  <section class="panel panel--setup" id="setup-panel">
        <h2>Pr&eacute;pare ton exp&eacute;dition</h2>
        <p class="setup__intro">
          Choisis ton h&eacute;ros de l&eacute;gende et les royaumes &agrave; explorer avant
          d'affronter dragons et gobelins.
        </p>
        <div class="setup__controls">
          <div class="setup__group setup__group--avatars">
            <span class="setup__label">Compagnons d'aventure</span>
            <div class="avatar-group" id="avatar-options">
              <button
                class="avatar-card"
                type="button"
                data-avatar="chevalier"
                data-avatar-name="Chevalier Ardent"
                data-avatar-src="assets/chevalier.png"
                data-avatar-alt="Portrait du Chevalier Ardent"
                data-selected="false"
                aria-pressed="false"
              >
                <div class="avatar-card__media">
                  <img
                    src="assets/chevalier.png"
                    alt="Chevalier Ardent brandissant son &eacute;p&eacute;e"
                    loading="lazy"
                  />
                </div>
                <div class="avatar-card__content">
                  <span class="avatar-card__title">Chevalier Ardent</span>
                  <span class="avatar-card__text">
                    Armure &eacute;tincelante, bouclier d&eacute;ploy&eacute; : ce chevalier prot&egrave;ge
                    le royaume et fait pleuvoir les coups critiques.
                  </span>
                </div>
              </button>
              <button
                class="avatar-card"
                type="button"
                data-avatar="magicienne"
                data-avatar-name="Magicienne Solaire"
                data-avatar-src="assets/magicienne.png"
                data-avatar-alt="Portrait de la Magicienne Solaire"
                data-selected="false"
                aria-pressed="false"
              >
                <div class="avatar-card__media">
                  <img
                    src="assets/magicienne.png"
                    alt="Magicienne Solaire invoquant un sort"
                    loading="lazy"
                  />
                </div>
                <div class="avatar-card__content">
                  <span class="avatar-card__title">Magicienne Solaire</span>
                  <span class="avatar-card__text">
                    Ses runes brillent autant que ses id&eacute;es pour r&eacute;soudre les &eacute;nigmes.
                  </span>
                </div>
              </button>
              <button
                class="avatar-card"
                type="button"
                data-avatar="exploratrice"
                data-avatar-name="Exploratrice Stella"
                data-avatar-src="assets/princesse.png"
                data-avatar-alt="Portrait de l'Exploratrice Stella"
                data-selected="false"
                aria-pressed="false"
              >
                <div class="avatar-card__media">
                  <img
                    src="assets/princesse.png"
                    alt="Exploratrice Stella observant une carte &eacute;toil&eacute;e"
                    loading="lazy"
                  />
                </div>
                <div class="avatar-card__content">
                  <span class="avatar-card__title">Exploratrice Stella</span>
                  <span class="avatar-card__text">
                    Elle cartographie chaque recoin et trouve le chemin le plus malin.
                  </span>
                </div>
              </button>
            </div>
          </div>
          <div class="setup__group">
            <span class="setup__label">Missions disponibles</span>
            <div class="chip-group" id="table-options">
              <!-- Options injectees via JS -->
            </div>
          </div>
        </div>
        <div class="setup__legend">
          <div class="legend-grid">
            <article class="legend-card">
              <strong>1 &agrave; 3 &mdash; For&ecirc;t des Apprentis</strong>
              Dragons minuscules et gobelins espi&egrave;gles, parfaits pour &eacute;chauffer ton h&eacute;ros.
            </article>
            <article class="legend-card">
              <strong>4 &agrave; 6 &mdash; Montagnes Obsidiennes</strong>
              Affronte des trolls de pierre qui testent ton esprit guerrier.
            </article>
            <article class="legend-card">
              <strong>7 &agrave; 9 &mdash; D&eacute;sert des Chim&egrave;res</strong>
              Des cr&eacute;atures mystiques gardent des reliques rares, reste vigilant.
            </article>
            <article class="legend-card">
              <strong>Table 10 &mdash; Forteresse Royale</strong>
              Le dragon de fin garde le tr&eacute;sor, chaque r&eacute;ussite rapporte gros.
            </article>
          </div>
        </div>
        <p class="setup__notice" id="start-hint">Choisis un h&eacute;ros et une mission pour partir en campagne.</p>
        <div class="game__actions">
          <button class="primary-btn" id="start-btn" type="button">Partir en mission</button>
        </div>
      </section>

      <section class="panel panel--game" id="game-panel" hidden>
        <div class="hud">
          <div class="hud__item hud__item--hero" id="hud-avatar" hidden>
            <div class="hud__hero-portrait">
              <img id="hud-avatar-image" src="" alt="" />
            </div>
            <div class="hud__hero-info">
              <span class="hud__label">Avatar</span>
              <span class="hud__value" id="hud-avatar-name">---</span>
            </div>
          </div>
          <div class="hud__item">
            <span class="hud__label">⏱️ Sablier</span>
            <span class="hud__value" id="timer">⏱️ 00:15</span>
          </div>
          <div class="hud__item hud__item--progress">
            <span class="hud__label">📜 Chapitre</span>
            <span class="hud__value" id="progress">Qu&ecirc;te 1/10</span>
            <div
              class="progress"
              role="progressbar"
              aria-valuemin="0"
              aria-valuemax="10"
              aria-valuenow="0"
              aria-label="Progression de la qu&ecirc;te"
            >
              <div class="progress__bar" id="progress-bar"></div>
            </div>
          </div>
          <div class="hud__item">
            <span class="hud__label">🔥 Combo h&eacute;ro&iuml;que</span>
            <span class="hud__value" id="streak">🔥 0</span>
          </div>
          <div class="hud__item">
            <span class="hud__label">💎 Reliques</span>
            <span class="hud__value" id="score">💎 0</span>
          </div>
        </div>

        <div class="question-card" id="question-card">
          <div class="question-card__wheel">
            <span class="question-card__multiplier" id="question-multipliers">Sort &agrave; lancer</span>
            <span class="question-card__prompt">Quel sort lancer pour terrasser le dragon ?</span>
          </div>
          <div class="result-badge" id="result-badge" aria-live="assertive"></div>
          <form class="choices" id="choices">
            <!-- Options injectees via JS -->
          </form>
        </div>

        <div class="feedback" id="feedback" aria-live="polite"></div>

        <div class="game__actions">
          <button class="secondary-btn" id="pass-btn" type="button">Esquiver l'attaque</button>
          <button class="secondary-btn secondary-btn--ghost" id="close-btn" type="button">
            Retour au camp
          </button>
        </div>
      </section>

      <section class="panel panel--summary" id="summary-panel" hidden>
        <h2>Chronique de ta campagne</h2>
        <p class="summary__text">
          Tu as ramen&eacute; <strong id="summary-score">💎 0</strong> reliques et vaincu
          <strong id="summary-streak">🔥 0</strong> dragons d'affil&eacute;e.
        </p>
        <div class="summary__hero" id="summary-avatar" hidden>
          <div class="summary__hero-portrait">
            <img id="summary-avatar-image" src="" alt="" />
          </div>
          <div class="summary__hero-info">
            <span class="summary__label">Avatar choisi</span>
            <span class="summary__value" id="summary-avatar-name"></span>
          </div>
        </div>
        <div class="summary__details">
          <div>
            <span class="summary__label">📜 Chapitres brav&eacute;s</span>
            <span class="summary__value" id="summary-questions">📜 0</span>
          </div>
          <div>
            <span class="summary__label">🐲 Dragons terrass&eacute;s</span>
            <span class="summary__value" id="summary-correct">🐲 0</span>
          </div>
          <div>
            <span class="summary__label">🛡️ Tactiques &agrave; revoir</span>
            <span class="summary__value" id="summary-wrong">🛡️ 0</span>
          </div>
        </div>
        <p class="summary__xp" id="summary-xp">✨ +0 xp</p>
        <div class="summary__level" aria-live="polite">
          <span class="summary__level-badge" id="summary-level">Niveau 1</span>
          <div class="summary__level-bar">
            <div class="summary__level-bar-fill" id="summary-level-progress"></div>
          </div>
        </div>
        <div class="game__actions">
          <button class="primary-btn" id="restart-btn" type="button">Repartir en mission</button>
          <button class="secondary-btn secondary-btn--ghost" id="summary-close-btn" type="button">
            Retour au camp
          </button>
        </div>
      </section>
    </main>

    <footer class="app__footer app__footer--game">
      Reviens au camp pour choisir une nouvelle aventure quand tu le souhaites.
    </footer>

    <script src="script.js" defer></script>
  </body>
</html>










